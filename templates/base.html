{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}GT Job Finder{% endblock %}</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    :root {
      --gt-navy:#003057; --gt-gold:#B3A369; --buzz-gold:#EAAA00;
      --white:#FFFFFF; --tech-slate:#EFEFEF; --muted:#6b7280; --text:#0f172a;
    }
    * { box-sizing:border-box; }
    body { margin:0; font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji"; color:var(--text); background:var(--white); }
    a { color: inherit; text-decoration: none; }

    /* Navbar */
    .navbar { position:sticky; top:0; z-index:50; background:var(--gt-gold); color:#111827; border-bottom:1px solid rgba(0,0,0,0.06); }
    .nav-content { max-width:1100px; margin:0 auto; display:flex; align-items:center; justify-content:space-between; padding:16px 20px; }
    .brand { display:flex; align-items:center; gap:10px; font-weight:700; color:#111827; margin-right: 40px; }
    .nav-links { display:flex; align-items:center; gap:18px; font-weight:600; color:#111827; }
    .nav-links a { color:#111827; }
    .nav-links a:hover { text-decoration:underline; text-underline-offset:3px; }
    .cta { display:inline-flex; align-items:center; justify-content:center; padding:0 18px; min-height:42px; border:1px solid rgba(0,0,0,0.12); color:#111827; background:var(--white); border-radius:12px; font-weight:700; line-height:1; text-align:center; }
    .cta:hover { filter:brightness(0.95); text-decoration:none; }

    /* Messages */
    .messages { max-width:1100px; margin:12px auto 0; padding:0 20px; }
    .messages .msg { margin:10px 0; padding:10px 12px; border-radius:10px; border:1px solid rgba(0,0,0,0.08); background:#fff; }
    .messages .success { border-color:#16a34a33; background:#10b98111; }
    .messages .error   { border-color:#ef444433; background:#ef444411; }
    .messages .warning { border-color:#f59e0b33; background:#f59e0b11; }
    .messages .info    { border-color:#3b82f633; background:#3b82f611; }

    /* Footer */
    footer { background:var(--gt-gold); border-top:1px solid rgba(0,0,0,0.06); padding:24px 20px; margin-top:60px; color:#111827; font-size:14px; }
    .footer-content { max-width:1100px; margin:0 auto; display:flex; justify-content:space-between; align-items:center; }

    /* Container */
    .container { max-width:1100px; margin:0 auto; padding:0 20px; }

    /* Hero */
    .hero { position:relative; min-height:62vh; display:flex; align-items:center; }
    .hero-bg { position:absolute; inset:0; background-size:cover; background-position:center; opacity:.25; }
    .hero-overlay { position:absolute; inset:0; background:radial-gradient(ellipse at center, rgba(255,255,255,0.15), var(--tech-slate)); opacity:.9; pointer-events:none; }
    .hero-content { position:relative; z-index:1; padding:60px 0; }
    .kicker { color:var(--gt-gold); font-weight:700; letter-spacing:.12em; text-transform:uppercase; font-size:12px; }
    h1 { font-size:clamp(34px, 6vw, 52px); line-height:1.05; margin:10px 0 14px; color:var(--gt-navy); }
    .subtitle { font-size:clamp(16px, 2.6vw, 18px); color:#1f2937; max-width:720px; }
  </style>

  {% block extra_head %}{% endblock %}
</head>
<body>
  <nav class="navbar">
    <div class="nav-content">
      <a class="brand" href="{% url 'core:home' %}">GT Job Finder</a>
      <div class="nav-links">
        <a href="{% url 'jobs:list' %}">Jobs</a>
        {% if request.user.is_authenticated %}
          {% if request.user.profile.is_recruiter %}
            <a href="{% url 'accounts:recruiter_dashboard' %}">Dashboard</a>
            <a href="{% url 'jobs:my_jobs' %}">My Jobs</a>
            <a href="{% url 'jobs:post' %}">Post Job</a>
            <a href="{% url 'accounts:recruiter_profile' %}">Company Profile</a>
          {% else %}
            <a href="{% url 'jobs:recommended' %}">Recommended</a>
            <a href="{% url 'jobs:my_applications' %}">My Applications</a>
            <a href="{% url 'accounts:profile' %}">My Profile</a>
          {% endif %}
          <form method="post" action="{% url 'logout' %}" style="display: inline;">
            {% csrf_token %}
            <button type="submit" class="cta" style="border: none; background: none; padding: 0; font: inherit; cursor: pointer;">Logout</button>
          </form>
        {% else %}
          <a href="{% url 'core:about' %}">About</a>
          {# prefer signup as primary CTA; if no signup route, it'll fall back to login #}
          {% url 'accounts:signup' as signup_url %}
          {% if signup_url %}<a class="cta" href="{{ signup_url }}">Get Started</a>
          {% else %}<a class="cta" href="{% url 'login' %}">Get Started</a>{% endif %}
        {% endif %}
      </div>
    </div>
  </nav>

  {% if messages %}
  <div class="messages">
    {% for message in messages %}
      <div class="msg {{ message.tags }}">{{ message }}</div>
    {% endfor %}
  </div>
  {% endif %}

  <main>
    {% block content %}{% endblock %}
  </main>

  <!-- Floating Recruiter CTA -->
  {% if not request.user.is_authenticated or not request.user.profile.is_recruiter %}
  <div style="position: fixed; bottom: 20px; right: 20px; z-index: 1000;">
    <div style="background: var(--gt-gold); border-radius: 50px; padding: 12px 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); display: flex; align-items: center; gap: 8px;">
      <i class="fas fa-briefcase" style="color: var(--gt-navy); font-size: 16px;"></i>
      <a href="{% url 'accounts:recruiter_signup' %}" style="color: var(--gt-navy); text-decoration: none; font-weight: 600; font-size: 14px;">
        Hire Talent
      </a>
    </div>
  </div>
  {% endif %}

  <footer>
    <div class="footer-content">
      <div>Â© {% now "Y" %} GT Job Finder</div>
      <div>Made for early-career talent and recruiters</div>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  
  {% block extra_scripts %}{% endblock %}
</body>
</html>
